import{_ as y,r as f,o as B,a as c,b as u,d as e,t as p,w as g,v as h,p as k,h as $,e as C,i as D,j as N,F as w,f as S,g as E,k as O}from"./style.js";import{s as v}from"./store.js";const m=a=>(k("data-v-4e2f5374"),a=a(),$(),a),U={class:"profileInfoSection"},P={key:0,class:"infoDisplayContainer"},V={class:"rowData"},M=m(()=>e("label",{for:"email"},"Email",-1)),F={id:"email"},R={class:"rowData"},j=m(()=>e("label",{for:"name"},"Name",-1)),A={id:"name"},q={class:"rowData"},J=m(()=>e("label",{for:"surname"},"Surname",-1)),L={id:"surname"},T={class:"rowData"},z=m(()=>e("label",{for:"displayName"},"DisplayName",-1)),G={id:"displayName"},H={class:"rowData"},K={key:1,class:"infoEditContainer"},Q={class:"rowData"},W=m(()=>e("label",{for:"email"},"Email",-1)),X={class:"rowData"},Y=m(()=>e("label",{for:"name"},"Name",-1)),Z={class:"rowData"},ee=m(()=>e("label",{for:"surname"},"Surname",-1)),te={class:"rowData"},se=m(()=>e("label",{for:"displayName"},"DisplayName",-1)),oe={__name:"ProfileInfo",setup(a){const n=f({editing:!1}),t=f({userId:null,email:null,firstName:null,surname:null,displayName:null,dateOfBirth:null}),s=f({userId:null,email:null,firstName:null,surname:null,displayName:null,dateOfBirth:null});B(()=>{getUserByEmail(v.userEmail,o=>{t.userId=o.data.userId,t.email=o.data.email,t.firstName=o.data.firstName,t.surname=o.data.surname,t.displayName=o.data.displayName,t.dateOfBirth=o.data.dateOfBirth,s.userId=o.data.userId,s.email=o.data.email,s.firstName=o.data.firstName,s.surname=o.data.surname,s.displayName=o.data.displayName,s.dateOfBirth=o.data.dateOfBirth},o=>{console.log(o)})});const d=()=>{t.userId=s.userId,t.email=s.email,t.firstName=s.firstName,t.surname=s.surname,t.displayName=s.displayName,t.dateOfBirth=s.dateOfBirth,n.editing=!1},r=()=>{editUser(t.userId,JSON.stringify(t),v.token,o=>{s.userId=t.userId,s.email=t.email,s.firstName=t.firstName,s.surname=t.surname,s.displayName=t.displayName,s.dateOfBirth=t.dateOfBirth,n.editing=!1},o=>{console.log(o)})};return(o,l)=>(c(),u("section",U,[n.editing==!1?(c(),u("div",P,[e("div",V,[M,e("p",F,p(t.email),1)]),e("div",R,[j,e("p",A,p(t.firstName),1)]),e("div",q,[J,e("p",L,p(t.surname),1)]),e("div",T,[z,e("p",G,p(t.displayName),1)]),e("div",H,[e("button",{onClick:l[0]||(l[0]=i=>n.editing=!0)},"Edit")])])):(c(),u("div",K,[e("div",Q,[W,g(e("input",{type:"text",disabled:"","onUpdate:modelValue":l[1]||(l[1]=i=>t.email=i)},null,512),[[h,t.email]])]),e("div",X,[Y,g(e("input",{type:"text","onUpdate:modelValue":l[2]||(l[2]=i=>t.firstName=i)},null,512),[[h,t.firstName]])]),e("div",Z,[ee,g(e("input",{type:"text","onUpdate:modelValue":l[3]||(l[3]=i=>t.surname=i)},null,512),[[h,t.surname]])]),e("div",te,[se,g(e("input",{type:"text","onUpdate:modelValue":l[4]||(l[4]=i=>t.displayName=i)},null,512),[[h,t.displayName]])]),e("div",{class:"rowData"},[e("button",{onClick:r},"Update"),e("button",{onClick:d},"Cancel")])]))]))}},ae=y(oe,[["__scopeId","data-v-4e2f5374"]]);const I=a=>(k("data-v-a0fe2568"),a=a(),$(),a),ne={key:0,class:"overlay"},le=I(()=>e("h2",null,"New Blog",-1)),ie={class:"inputContainer"},de={class:"dataRow"},re=I(()=>e("label",{for:"name"},"Name",-1)),ce={class:"dataRow"},_e=I(()=>e("label",{for:"description"},"Description",-1)),ue={__name:"NewBlogModal",props:{content:null},setup(a,{expose:n}){const t=a,s=f({userid:null,name:null,description:null,imageId:null});B(()=>{t.content==null&&alert("Nothing in props")});const d=f({show:!1}),r=()=>{d.show=!1},o=()=>{d.show=!0},l=()=>{alert("something"),s.name!=null||s.description!=null?getUserByEmail(v.userEmail,i=>{alert("in first result"),s.userid=i.data.userId,createBlog(s,v.token,_=>{_.status==204&&(alert("Success"),d.show=!1)},_=>{console.log(_)})},i=>{console.log(i)}):alert("Fill in all the Fields")};return n({open:o}),(i,_)=>d.show?(c(),u("div",ne,[le,e("div",ie,[e("div",de,[re,g(e("input",{type:"text",id:"name","onUpdate:modelValue":_[0]||(_[0]=b=>s.name=b)},null,512),[[h,s.name]])]),e("div",ce,[_e,g(e("textarea",{id:"description","onUpdate:modelValue":_[1]||(_[1]=b=>s.description=b)},null,512),[[h,s.description]])]),e("div",{class:"dataRow"},[e("button",{onClick:l},"Save"),e("button",{onClick:r},"Cancel")])])])):C("",!0)}},x=y(ue,[["__scopeId","data-v-a0fe2568"]]);const me={class:"blog"},pe={class:"content"},fe={class:"numberofPosts"},ge={__name:"Blog",props:{content:null},setup(a){const n=a,t=f({content:null}),s=D(null);B(()=>{t.content=n.content});const d=()=>{deleteBlog(t.content.blogId,v.token,o=>{t.content.postCount>0?alert("Blog and Associated Posts and comments Deleted"):alert("Blog Deleted")},o=>{alert(o)})},r=()=>{s.open};return(o,l)=>(c(),u(w,null,[e("div",me,[e("div",{class:"cover"},[e("i",{class:"fa-regular fa-pen-to-square",onClick:r}),e("i",{class:"fa-solid fa-trash-can",onClick:d})]),e("div",pe,[e("h2",null,p(t.content.name),1),e("p",null,p(t.content.description),1),e("p",fe,p(t.content.postCount)+" Posts",1)])]),N(x,{ref_key:"editBlog",ref:s,content:n.content},null,8,["content"])],64))}},he=y(ge,[["__scopeId","data-v-785bc875"]]);const ve={class:"blogsSection"},Ne={class:"newBlog"},ye={class:"blogs"},Be={__name:"BlogSection",setup(a){const n=D(null),t=f({blogs:[]});return B(()=>{getBlogs(v.userEmail,s=>{t.blogs=s.data},s=>{console.log(s)})}),(s,d)=>(c(),u(w,null,[e("section",ve,[e("div",Ne,[e("button",{onClick:d[0]||(d[0]=(...r)=>n.value.open&&n.value.open(...r))},"New Blog")]),e("div",ye,[(c(!0),u(w,null,S(t.blogs,r=>(c(),E(he,{key:r.blogId,content:r},null,8,["content"]))),128))])]),N(x,{ref_key:"blogModal",ref:n},null,512)],64))}},be=y(Be,[["__scopeId","data-v-09b895a2"]]),we={class:"profilePageContainer"},Ie={__name:"ProfilePage",setup(a){return(n,t)=>(c(),u("div",we,[N(ae),N(be)]))}};O(Ie).mount("#app");
