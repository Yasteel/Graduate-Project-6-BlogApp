import{_ as y,r as p,o as N,a as c,b as _,d as t,t as m,w as f,v as g,p as I,h as k,e as x,i as $,j as v,F as b,f as C,g as S,k as E}from"./style.js";import{s as h}from"./store.js";const u=i=>(I("data-v-4e2f5374"),i=i(),k(),i),O={class:"profileInfoSection"},U={key:0,class:"infoDisplayContainer"},P={class:"rowData"},V=u(()=>t("label",{for:"email"},"Email",-1)),M={id:"email"},F={class:"rowData"},R=u(()=>t("label",{for:"name"},"Name",-1)),j={id:"name"},A={class:"rowData"},q=u(()=>t("label",{for:"surname"},"Surname",-1)),J={id:"surname"},L={class:"rowData"},T=u(()=>t("label",{for:"displayName"},"DisplayName",-1)),z={id:"displayName"},G={class:"rowData"},H={key:1,class:"infoEditContainer"},K={class:"rowData"},Q=u(()=>t("label",{for:"email"},"Email",-1)),W={class:"rowData"},X=u(()=>t("label",{for:"name"},"Name",-1)),Y={class:"rowData"},Z=u(()=>t("label",{for:"surname"},"Surname",-1)),ee={class:"rowData"},te=u(()=>t("label",{for:"displayName"},"DisplayName",-1)),se={__name:"ProfileInfo",setup(i){const l=p({editing:!1}),e=p({userId:null,email:null,firstName:null,surname:null,displayName:null,dateOfBirth:null}),s=p({userId:null,email:null,firstName:null,surname:null,displayName:null,dateOfBirth:null});N(()=>{getUserByEmail(h.userEmail,o=>{e.userId=o.data.userId,e.email=o.data.email,e.firstName=o.data.firstName,e.surname=o.data.surname,e.displayName=o.data.displayName,e.dateOfBirth=o.data.dateOfBirth,s.userId=o.data.userId,s.email=o.data.email,s.firstName=o.data.firstName,s.surname=o.data.surname,s.displayName=o.data.displayName,s.dateOfBirth=o.data.dateOfBirth},o=>{console.log(o)})});const r=()=>{e.userId=s.userId,e.email=s.email,e.firstName=s.firstName,e.surname=s.surname,e.displayName=s.displayName,e.dateOfBirth=s.dateOfBirth,l.editing=!1},d=()=>{editUser(e.userId,JSON.stringify(e),h.token,o=>{s.userId=e.userId,s.email=e.email,s.firstName=e.firstName,s.surname=e.surname,s.displayName=e.displayName,s.dateOfBirth=e.dateOfBirth,l.editing=!1},o=>{console.log(o)})};return(o,n)=>(c(),_("section",O,[l.editing==!1?(c(),_("div",U,[t("div",P,[V,t("p",M,m(e.email),1)]),t("div",F,[R,t("p",j,m(e.firstName),1)]),t("div",A,[q,t("p",J,m(e.surname),1)]),t("div",L,[T,t("p",z,m(e.displayName),1)]),t("div",G,[t("button",{onClick:n[0]||(n[0]=a=>l.editing=!0)},"Edit")])])):(c(),_("div",H,[t("div",K,[Q,f(t("input",{type:"text",disabled:"","onUpdate:modelValue":n[1]||(n[1]=a=>e.email=a)},null,512),[[g,e.email]])]),t("div",W,[X,f(t("input",{type:"text","onUpdate:modelValue":n[2]||(n[2]=a=>e.firstName=a)},null,512),[[g,e.firstName]])]),t("div",Y,[Z,f(t("input",{type:"text","onUpdate:modelValue":n[3]||(n[3]=a=>e.surname=a)},null,512),[[g,e.surname]])]),t("div",ee,[te,f(t("input",{type:"text","onUpdate:modelValue":n[4]||(n[4]=a=>e.displayName=a)},null,512),[[g,e.displayName]])]),t("div",{class:"rowData"},[t("button",{onClick:d},"Update"),t("button",{onClick:r},"Cancel")])]))]))}},oe=y(se,[["__scopeId","data-v-4e2f5374"]]);const w=i=>(I("data-v-41adfef9"),i=i(),k(),i),ae={key:0,class:"overlay"},ne=w(()=>t("h2",null,"New Blog",-1)),le={class:"inputContainer"},ie={class:"dataRow"},de=w(()=>t("label",{for:"name"},"Name",-1)),ce={class:"dataRow"},re=w(()=>t("label",{for:"description"},"Description",-1)),_e={__name:"NewBlogModal",props:{content:null},setup(i,{expose:l}){const e=p({userid:null,name:null,description:null,imageId:null});N(()=>{});const s=p({show:!1}),r=()=>{s.show=!1},d=()=>{s.show=!0},o=()=>{e.name!=null||e.description!=null?getUserByEmail(h.userEmail,n=>{e.userid=n.data.userId,createBlog(e,h.token,a=>{a.status==204&&(alert("Success"),s.show=!1)},a=>{console.log(a)})},n=>{console.log(n)}):alert("Fill in all the Fields")};return l({open:d}),(n,a)=>s.show?(c(),_("div",ae,[ne,t("div",le,[t("div",ie,[de,f(t("input",{type:"text",id:"name","onUpdate:modelValue":a[0]||(a[0]=B=>e.name=B)},null,512),[[g,e.name]])]),t("div",ce,[re,f(t("textarea",{id:"description","onUpdate:modelValue":a[1]||(a[1]=B=>e.description=B)},null,512),[[g,e.description]])]),t("div",{class:"dataRow"},[t("button",{onClick:o},"Save"),t("button",{onClick:r},"Cancel")])])])):x("",!0)}},D=y(_e,[["__scopeId","data-v-41adfef9"]]);const ue={class:"blog"},me={class:"content"},pe={class:"numberofPosts"},fe={__name:"Blog",props:{content:null},setup(i){const l=i,e=p({content:null}),s=$(null);N(()=>{e.content=l.content});const r=()=>{deleteBlog(e.content.blogId,h.token,o=>{e.content.postCount>0?alert("Blog and Associated Posts and comments Deleted"):alert("Blog Deleted")},o=>{alert(o)})},d=()=>{s.open};return(o,n)=>(c(),_(b,null,[t("div",ue,[t("div",{class:"cover"},[t("i",{class:"fa-regular fa-pen-to-square",onClick:d}),t("i",{class:"fa-solid fa-trash-can",onClick:r})]),t("div",me,[t("h2",null,m(e.content.name),1),t("p",null,m(e.content.description),1),t("p",pe,m(e.content.postCount)+" Posts",1)])]),v(D,{ref_key:"editBlog",ref:s,content:l.content},null,8,["content"])],64))}},ge=y(fe,[["__scopeId","data-v-785bc875"]]);const he={class:"blogsSection"},ve={class:"newBlog"},ye={class:"blogs"},Ne={__name:"BlogSection",setup(i){const l=$(null),e=p({blogs:[]});return N(()=>{getBlogs(h.userEmail,s=>{e.blogs=s.data},s=>{console.log(s)})}),(s,r)=>(c(),_(b,null,[t("section",he,[t("div",ve,[t("button",{onClick:r[0]||(r[0]=(...d)=>l.value.open&&l.value.open(...d))},"New Blog")]),t("div",ye,[(c(!0),_(b,null,C(e.blogs,d=>(c(),S(ge,{key:d.blogId,content:d},null,8,["content"]))),128))])]),v(D,{ref_key:"blogModal",ref:l},null,512)],64))}},Be=y(Ne,[["__scopeId","data-v-09b895a2"]]),be={class:"profilePageContainer"},we={__name:"ProfilePage",setup(i){return(l,e)=>(c(),_("div",be,[v(oe),v(Be)]))}};E(we).mount("#app");
