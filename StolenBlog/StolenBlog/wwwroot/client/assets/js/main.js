import{_ as u,o as e,c as s,a as o,t as p,p as I,b as x,r,d as h,e as D,f as l,u as $,w as N,v as B,F as C,g as f,h as v,i as S}from"./style.js";import{s as b}from"./store.js";const A=c=>(I("data-v-9aadbdf8"),c=c(),x(),c),P={class:"commentContainer"},M={class:"header"},U=A(()=>o("p",{class:"name"},p("Need DisplayName"),-1)),V={class:"timestamp"},j={class:"content"},F={__name:"Comments",props:{content:{}},setup(c){const n=c;return(t,a)=>(e(),s("div",P,[o("div",M,[U,o("p",V,p(n.content.dateUpdated),1)]),o("div",j,[o("p",null,p(n.content.comment),1)])]))}},L=u(F,[["__scopeId","data-v-9aadbdf8"]]);const T={class:"postContainer"},E={class:"header"},H={class:"name"},q={class:"timestamp"},z={class:"content"},G={class:"commentAction"},J={key:0},K={key:1},O={key:0},Q={key:1},R={key:0,class:"addComment"},W={key:1,class:"comments"},X={__name:"BlogPost",props:{content:{}},setup(c){const n=c,t=r({displayName:"",content:"",timestamp:"",comments:[]});h(()=>{t.displayName=n.content.users.displayName,t.content=n.content.description,t.timestamp=n.content.dateUpdated,getComments(n.content.postId,i=>{i.data.length>0&&(t.comments=i.data)},i=>{})});const a=r({showComments:!1,addComment:!1}),d=r({comment:""}),g=()=>{a.showComments=!a.showComments},y=()=>{d.comment="",a.addComment=!a.addComment},w=()=>{alert(d.comment)},k=D(()=>{let m=new Date-new Date(t.timestamp);if(m<1e3*60)return"a minute ago";if(m<1e3*60*60)return`${Math.floor(m/(1e3*60))}  minutes ago`;if(m<1e3*60*60*24)return`${Math.floor(m/(1e3*60*60))}  hours ago`;var _=new Date(t.timestamp);return _.toLocaleDateString()});return(i,m)=>(e(),s("div",T,[o("div",E,[o("p",H,p(t.displayName),1),o("p",q,p(k.value),1)]),o("div",z,[o("p",null,p(t.content),1)]),o("div",G,[o("p",null,[t.comments.length>0?(e(),s("a",{key:0,href:"#",onClick:g},[a.showComments?(e(),s("span",J,"Hide Comments")):(e(),s("span",K,"Show Comments"))])):l("",!0)]),$(b).loggedIn?(e(),s("button",{key:0,onClick:y},[a.addComment?(e(),s("span",O,"Cancel")):(e(),s("span",Q,"Post Comment +"))])):l("",!0)]),a.addComment?(e(),s("div",R,[N(o("textarea",{"onUpdate:modelValue":m[0]||(m[0]=_=>d.comment=_)},null,512),[[B,d.comment]]),o("button",{onClick:w},"Post Comment")])):l("",!0),t.comments.length>0&&a.showComments?(e(),s("div",W,[(e(!0),s(C,null,f(t.comments,_=>(e(),v(L,{key:_.commentId,content:_},null,8,["content"]))),128))])):l("",!0)]))}},Y=u(X,[["__scopeId","data-v-58c501f7"]]);const Z={__name:"App",setup(c){const n=r({posts:[]});return h(()=>{getPosts(t=>{console.log(t),n.posts=t.data},t=>{})}),(t,a)=>(e(),s("div",null,[(e(!0),s(C,null,f(n.posts,d=>(e(),v(Y,{content:d},null,8,["content"]))),256))]))}},tt=u(Z,[["__scopeId","data-v-2190349f"]]);S(tt).mount("#app");
